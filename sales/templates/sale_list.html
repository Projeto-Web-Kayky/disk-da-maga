{% extends 'base.html' %}
{% block title %}Vendas{% endblock %}
{% block content %}
<div class="max-w-5xl mx-auto mt-8 space-y-6">
    <div class="flex justify-between items-center border-b border-gray-300 pb-3">
        <h1 class="text-3xl font-extrabold text-red-800 tracking-tight">Hist√≥rico de Comandas</h1>
        <a href="{% url 'sale_create' %}" class="btn btn-accent btn-sm">+ Nova Venda</a>
    </div>

    <div class="space-y-4">
        {% for sale in sales %}
        <div class="card shadow-lg rounded-lg overflow-hidden">
            <div
                class="card-body flex justify-between items-center {% if sale.status == 'open' %}bg-red-800 text-white{% elif sale.status == 'finalized' %}bg-green-700 text-white{% elif sale.status == 'cancelled' %}bg-gray-700 text-gray-200{% else %}bg-slate-200 text-gray-800{% endif %}">
                <div>
                    <h2 class="text-xl font-semibold">Comanda #{{ sale.id }}</h2>
                    <p class="text-sm opacity-90">Cliente: {% if sale.client %}{{ sale.client.name }}{% else %}{{
                        sale.client_name }}{% endif %}</p>
                    <p class="text-sm opacity-90">Total: R$ {{ sale.total }} | Pago: R$ {{ sale.paid_amount }} | Saldo:
                        R$ {{ sale.balance }}</p>
                </div>
                <div>
                    <a href="{% url 'sale_detail' sale.id %}" class="btn btn-sm btn-outline">Ver</a>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="alert alert-warning">Nenhuma venda registrada.</div>
        {% endfor %}
    </div>
</div>
{% endblock %}